# PayPal 收款使用说明

## 概述

Type Chart Calculator 已集成 PayPal 支付功能，用户可以通过 `/support` 页面进行捐赠支持。

## 用户如何支付

### 1. 访问支持页面

用户访问：`https://typematchup.org/support`

### 2. 选择金额

- **预设金额**：$3, $5, $10, $20
- **自定义金额**：可以输入任意金额（最低 $1）

### 3. 点击 PayPal 按钮

页面会显示金色的 PayPal 按钮

### 4. 登录 PayPal

- 如果已登录 PayPal，直接确认支付
- 如果未登录，需要输入 PayPal 账号密码
- 也可以选择使用信用卡/借记卡支付（无需 PayPal 账号）

### 5. 确认支付

- 查看支付金额和收款方信息
- 点击"立即付款"完成支付

### 6. 支付成功

- 页面显示"Thank you for your support! 🎉"
- 用户会收到 PayPal 的支付确认邮件
- 资金立即转入你的 PayPal 账户

## 你如何收款

### 1. 查看收款

登录 [PayPal Dashboard](https://www.paypal.com)：

- 首页会显示最新交易
- 点击"活动"查看所有交易记录
- 每笔收款会显示：
  - 付款人信息（姓名/邮箱）
  - 金额
  - 时间
  - 交易状态

### 2. 资金到账

- **即时到账**：资金立即进入你的 PayPal 余额
- **可用余额**：可以立即使用或提现

### 3. 提现到银行卡

在 PayPal Dashboard：

1. 点击"转账"或"提现"
2. 选择"转账到银行"
3. 输入提现金额
4. 选择已绑定的银行卡
5. 确认提现

**到账时间**：
- 国内银行卡：1-3 个工作日
- 国际银行卡：3-5 个工作日

### 4. 手续费

**收款手续费**：
- 国内交易：4.4% + ¥0.30 固定费用
- 国际交易：4.4% + 固定费用（根据货币不同）

**提现手续费**：
- 提现到中国银行卡：每笔 $35 USD
- 建议累积到一定金额后再提现

**示例**：
- 用户支付 $10
- PayPal 扣除手续费：$10 × 4.4% + $0.30 = $0.74
- 你实际收到：$10 - $0.74 = $9.26

## 交易管理

### 查看交易详情

在 PayPal Dashboard：

1. 点击"活动"
2. 点击任意交易查看详情
3. 可以看到：
   - 付款人信息
   - 交易 ID
   - 支付方式
   - 备注信息（"Support Type Chart Calculator"）

### 导出交易记录

1. 进入"活动"页面
2. 点击右上角的"报表"
3. 选择日期范围
4. 下载 CSV 或 PDF 格式

### 退款操作

如果需要退款：

1. 在"活动"中找到该笔交易
2. 点击交易详情
3. 点击"退款"按钮
4. 选择全额或部分退款
5. 确认退款

**注意**：
- 退款后手续费不会退还
- 退款会立即返回到付款人账户

## 安全设置

### 1. 启用两步验证

在 PayPal 设置中：
1. 进入"安全"设置
2. 启用"两步验证"
3. 绑定手机号或验证器应用

### 2. 设置通知

建议启用以下通知：
- ✅ 收到付款时发送邮件
- ✅ 余额变动通知
- ✅ 登录异常提醒

### 3. 定期检查账户

- 每周查看交易记录
- 确认所有交易都是合法的
- 如发现异常立即联系 PayPal 客服

## 税务处理

### 收入申报

根据你所在地区的税法：
- 需要申报 PayPal 收入
- 保存所有交易记录
- 咨询当地税务顾问

### 交易记录

PayPal 提供：
- 年度交易报表
- 可导出用于报税
- 建议每月备份交易记录

## 常见问题

### Q: 用户支付后我多久能收到钱？
**A**: 立即到账，资金会立即显示在你的 PayPal 余额中。

### Q: 用户可以用信用卡支付吗？
**A**: 可以。用户点击 PayPal 按钮后，可以选择"使用借记卡或信用卡"，无需 PayPal 账号。

### Q: 如何知道谁支付了？
**A**: 在 PayPal 交易详情中可以看到付款人的姓名和邮箱地址。

### Q: 可以设置最低金额吗？
**A**: 当前最低金额是 $1，这是在代码中设置的。如需修改，可以调整 `app/support/page.tsx` 中的 `min` 属性。

### Q: 用户支付失败怎么办？
**A**: 用户会看到错误提示。常见原因：
- PayPal 余额不足
- 信用卡被拒绝
- 网络问题
- 建议用户重试或联系 PayPal 客服

### Q: 如何联系付款人？
**A**: 在交易详情中可以看到付款人邮箱，可以通过邮件联系。

### Q: 可以设置定期捐赠吗？
**A**: 当前只支持一次性支付。如需订阅功能，需要额外开发。

## 优化建议

### 1. 添加感谢邮件

考虑在用户支付后发送感谢邮件：
- 感谢支持
- 说明资金用途
- 提供收据

### 2. 显示捐赠者列表

征得同意后，可以在网站展示：
- 捐赠者姓名（或昵称）
- 捐赠金额（可选）
- 捐赠时间

### 3. 设置捐赠目标

在支持页面添加：
- 月度目标金额
- 当前进度条
- 资金用途说明

### 4. 提供多种支付方式

未来可以考虑添加：
- Stripe（信用卡）
- 支付宝（中国用户）
- 微信支付（中国用户）

## 技术细节

### 当前实现

- **类型**：一次性支付（One-time Payment）
- **SDK**：PayPal Buttons SDK v6
- **环境**：Live（生产环境）
- **货币**：USD（美元）
- **后端**：无需后端，纯前端实现

### 支付流程

```
用户访问 /support
    ↓
选择金额
    ↓
点击 PayPal 按钮
    ↓
PayPal 弹窗登录
    ↓
确认支付
    ↓
PayPal 处理支付
    ↓
支付成功 → 资金到账
    ↓
显示感谢消息
```

### 安全性

- ✅ 支付在 PayPal 服务器完成
- ✅ 不存储用户支付信息
- ✅ 使用 HTTPS 加密传输
- ✅ PayPal 提供买家保护

## 联系支持

如有问题：

- **PayPal 客服**：https://www.paypal.com/cn/smarthelp/contact-us
- **PayPal 帮助中心**：https://www.paypal.com/cn/webapps/mpp/support
- **技术问题**：查看 `PAYPAL_README.md`

---

**最后更新**：2026-01-23
**状态**：✅ 已上线，可以接受真实支付
**环境**：Live（生产环境）
